/*!
 * angular-form-server-error
 * https://github.com/sullivanpt/angular-form-server-error
 *
 * Copyright (c) 2015 Patrick Sullivan
 * MIT License
 */
"use strict";angular.module("zvmzio.server.error",[]).directive("serverError",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){d.$serverErrorKey=c.serverError||c.name,d.$validators.serverError=function(){return d.$touched||!d.$error.serverError}}}}).factory("serverErrorPopulate",function(a){return function(b,c){var d=a(c),e={};angular.forEach(b,function(a,b){"object"==typeof a&&0!==b.lastIndexOf("$",0)&&a.$serverErrorKey&&a.hasOwnProperty("$setValidity")&&d[a.$serverErrorKey]&&(a.$setValidity("serverError",!1),a.$serverError=d[a.$serverErrorKey],e[a.$serverErrorKey]=!0)});var f=[];return angular.forEach(d,function(a,b){e[b]||f.push(a)}),b.$serverError=f.length>0&&f,f}}).factory("serverErrorParse",function(){return function(a){return a?("object"!=typeof a&&(a={other:a}),angular.forEach(a,function(b,c){b&&"object"==typeof b&&b.path===c&&b.message&&(a[c]=b.message),"string"!=typeof a[c]&&(a[c]=JSON.stringify(b))}),a):{}}});